<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/night.css" id="theme">
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <style type="text/css">
      header > ul {
        padding: 5px;
        margin: 0;
        border: 0;
      }
      header > ul > li {
        display: inline-block;
      }
      header > ul > li > a {
        color: white;
        text-decoration: none;
      }
      header > ul > li > a::after {
        content: " |";
      }
      header > ul > li:last-child > a::after {
        content: "";
      }
    </style>
  </head>

  <body>
    <header>
      <ul>
        <li><a href="/?m=introduction">Introduction</a></li>
        <li><a href="/?m=patterns">Patterns</a></li>
        <li><a href="/?m=tests">Tests</a></li>
        <li><a href="/?m=principles">Principes</a></li>
        <li><a href="/?m=methods">MÃ©thodes</a></li>
        <li><a href="/?m=tools">Outils</a></li>
        <li><a href="/?m=quick_git">Git</a></li>
        <li><a href="/?m=quick_markdown">Markdown</a></li>
      </ul>
    </header>
    <div class="reveal">
      <div class="slides">
        <section data-markdown="" />
      </div>
    </div>
  </body>
</html>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
  var config = (function() {
    var override = {};

    function overrideConfig(location, regex, property, defaultValue) {
      override[property] = defaultValue;
      window.location[location].replace(regex, function(match, group) {
        override[property] = group;
      });
    }

    overrideConfig('search', /m=([^&]+)/gmi, 'markdown', 'introduction');
    overrideConfig('hash', /([0-9]+)$/gmi, 'pageNum', 0);

    return override;
  })();

  Reveal.initialize({
    controls: false,
    progress: true,
    history: true,
    center: true,
    transition: 'slide',
    dependencies: [
      {
        src: 'lib/js/classList.js',
        condition: function() {
          return !document.body.classList;
        }
      }, {
        src: 'plugin/markdown/marked.js'
      }, {
        src: 'plugin/markdown/markdown.js'
      }, {
        src: 'plugin/highlight/highlight.js',
        async: true,
        callback: function() {
          hljs.initHighlightingOnLoad();
        }
      }]
  });
  
  function removeAllChild(element) {
    while (element.firstChild) {
      element.removeChild(element.firstChild);
    }
  }

  function loadMarkdown() {
    var slides = document.getElementsByClassName('slides')[0];
    removeAllChild(slides);

    var section = document.createElement('section');
    section.setAttribute('data-markdown', './doc/' + config.markdown + '.md');
    section.setAttribute('data-separator', '\n\n\n');
    section.setAttribute('data-charset', 'utf-8');

    slides.appendChild(section);

    RevealMarkdown.initialize();
    Reveal.navigateTo(config.pageNum);
  }
  
  Reveal.addEventListener( 'ready', function() {
    loadMarkdown();
  });
</script>